<ion-header>
    <ion-toolbar color="medium">
      <ion-title>
        <div class="text">
          {{userName}}
        </div>
      </ion-title>
    </ion-toolbar>
  </ion-header>
  
  <ion-content>
  
    <ion-searchbar (ionChange)="onSearchInput($event)" debounce="500"></ion-searchbar>
  
  
    <ion-list *ngFor="let user of userNameListFilter; let i = index">
      <ion-item *ngIf="user.id !== userId && user.details=='pending'">
        <ion-grid>
          <ion-row>
            <ion-col size="2">
              <ion-avatar>
                <img [src]="user.avatar">
                <ion-badge id="notifications-badge" color="danger">5</ion-badge>
              </ion-avatar>
            </ion-col>
            <ion-col size="5">
              <div class="userNameText">
                <ion-label (click)="addUserToChannel(user.id)">{{user.displayName}}</ion-label>
              </div>
            </ion-col>
            <ion-col size="5">
              <div class="userNameText">
                <div class="logoutButton">
                  <ion-button shape="round" color="primary" (click)="acceptFriend(user)"> Accepter</ion-button>
                  <ion-button shape="round" color="primary" (click)="refuseInvitation(user)"> Refuser</ion-button>
                </div>
              </div>
            </ion-col>
          </ion-row>
        </ion-grid>
        
      </ion-item>
      <ion-item *ngIf="user.id !== userId && user.details!='pending'">
        <ion-grid>
          <ion-row>
            <ion-col size="2">
              <ion-avatar>
                  <ion-badge *ngIf="user.isOnline" id="notifications-badge" color="success">0</ion-badge>
                  <ion-badge *ngIf="!user.isOnline" id="notifications-badge" color="danger">0</ion-badge>
                <img [src]="user.avatar">
              </ion-avatar>
            </ion-col>
            <ion-col size="10">
              <div class="userNameText">
                <ion-label (click)="addUserToChannel(user.id)">{{user.displayName}}</ion-label>
              </div>
            </ion-col>
          </ion-row>
        </ion-grid>
        <ion-icon name="add-circle" (click)="addfriend(user)" *ngIf="user.details=='false'"></ion-icon>
        <ion-icon name="remove-circle" (click)="refuseInvitation(user)" *ngIf="user.details=='wantAdd'"></ion-icon>
        
      </ion-item>
    </ion-list>
  
  
    
    <!-- <ion-list *ngFor="let user of userNameListFilter; let i = index">
      <ion-item *ngIf="user.id !== userId && user.details!='pending'">
        <ion-grid>
          <ion-row>
            <ion-col size="2">
              <ion-avatar>
                  <ion-badge *ngIf="user.isOnline" id="notifications-badge" color="success">0</ion-badge>
                  <ion-badge *ngIf="!user.isOnline" id="notifications-badge" color="danger">0</ion-badge>
                <img [src]="user.avatar">
              </ion-avatar>
            </ion-col>
            <ion-col size="10">
              <div class="userNameText">
                <ion-label (click)="addUserToChannel(user.id)">{{user.displayName}}</ion-label>
              </div>
            </ion-col>
          </ion-row>
        </ion-grid>
        <ion-icon name="add-circle" (click)="addfriend(user)" *ngIf="user.details=='false'"></ion-icon>
        <ion-icon name="remove-circle" (click)="refuseInvitation(user)" *ngIf="user.details=='wantAdd'"></ion-icon>
        
      </ion-item>
  
  
  
    </ion-list> -->
  
  
  
  
  
    <div class="logoutButton">
      <ion-button shape="round" color="primary" (click)="getItems()">
        <ion-icon name="log-out"></ion-icon> tester Friends
      </ion-button>
    </div>
    <ion-list *ngFor="let user of usersFriends; let i = index">
    <ion-item *ngIf="user.isFriend=='true'">
      <ion-grid>
        <ion-row>
          <ion-col size="2">
            <ion-avatar>
                <ion-badge *ngIf="user.details[0].isOnline" id="notifications-badge" color="success">0</ion-badge>
                <ion-badge *ngIf="!user.details[0].isOnline" id="notifications-badge" color="danger">0</ion-badge>
              <img [src]="user.details[0].avatar">
            </ion-avatar>
          </ion-col>
          <ion-col (click)="entrerChatPrive(user.details[0].id)" size="10">
            <div class="userNameText">
              <ion-label >{{user.details[0].displayName}}</ion-label>
            </div>
          </ion-col>
        </ion-row>
      </ion-grid>
      <ion-icon name="remove-circle" (click)="removeFriend(user.details)"></ion-icon>
    </ion-item>

  </ion-list>
  
    <div class="logoutButton">
      <ion-button shape="round" color="primary" (click)="logout()">
        <ion-icon name="log-out"></ion-icon> Logout
      </ion-button>
    </div>
  
  </ion-content>